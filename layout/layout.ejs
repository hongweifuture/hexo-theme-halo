<!DOCTYPE HTML>
<html lang="<%= config.language %>">
<%- partial('_partial/head') %>

<body>
    <%- partial('_partial/header') %>
    <%- body %>

    <%- partial('_partial/footer') %>

    <%- partial('_partial/search') %>
    <%- partial('_partial/back-top') %>

    <!-- <script src="<%- theme.libs.js.materialize %>"></script>
    <script src="<%- theme.libs.js.masonry %>"></script>
    <script src="<%- theme.libs.js.aos %>"></script>
    <script src="<%- theme.libs.js.scrollProgress %>"></script>
    <script src="<%- theme.libs.js.lightgallery %>"></script>
    <script src="/js/matery.js"></script> -->

    <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.materialize %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.masonry %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.aos %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.scrollProgress %>"></script>
    <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.lightgallery %>"></script>
    <script src="<%- theme.jsDelivr.url %>/js/matery.js"></script>


    <%- partial('_partial/google-analytics') %>
    <%- partial('_partial/baidu-analytics') %>
    <%- partial('_partial/baidu-push') %>
    <% if (theme.clicklove.enable) { %>
        <!-- <script src="<%- theme.libs.js.clicklove %>" async="async"></script> -->
        <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.clicklove %>" async="async"></script>
    <% } %>
    
    <% if (theme.clickfire.enable) { %>
        <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
        <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
        <script type="text/javascript" src="<%- theme.jsDelivr.url %><%- theme.libs.js.clickfire %>"></script>
    <% } %>
    
    <% if (theme.cursor.enable) { %>
        <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.cursor %>"></script>
    <% } %>

    <% if (theme.busuanziStatistics && theme.busuanziStatistics.enable) { %>
    <!-- <script async src="<%- theme.libs.js.busuanzi %>"></script> -->
    <script async src="<%- theme.jsDelivr.url %><%- theme.libs.js.busuanzi %>"></script>
    <% } %>

    <% if (theme.tidio.enable) { %>
        <script src="//code.tidio.co/<%- theme.tidio.public_key %>.js"></script>
        <script> 
            $(document).ready(function () {
                setInterval(change_Tidio, 50);  
                function change_Tidio() { 
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"<%if(theme.toc.showToggleBtn){%>85px<%}else{%>20px<%}%>":"20px";   
                        document.getElementById("tidio-chat-iframe").style.right="-15px";   
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    } 
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;   
                        document.getElementById("tidio-chat-iframe").style.right="-15px"; 
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;   
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                } 
            }); 
        </script>
    <% } %>

    <% if (theme.daovoice.enable) { %>
    <script>
        (function (i, s, o, g, r, a, m) {
            i["DaoVoiceObject"] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            a.charset = "utf-8";
            m.parentNode.insertBefore(a, m)
        })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') +
            "//widget.daovoice.io/widget/6984b559.js", "daovoice")
        daovoice('init', {
            app_id: "<%- theme.daovoice.app_id %>"
        });
        daovoice('update');
    </script>
    <% } %>

    <% if (theme.canvas_nest.enable) { %>
    <script type="text/javascript" color="<%- theme.canvas_nest.color %>"
        pointColor="<%- theme.canvas_nest.pointColor %>" opacity='<%- theme.canvas_nest.opacity %>'
        zIndex="<%- theme.canvas_nest.zIndex %>" count="<%- theme.canvas_nest.count %>"
        <!-- src="<%- theme.libs.js.canvas_nest %>"></script> -->
        src="<%- theme.jsDelivr.url %><%- theme.libs.js.canvas_nest %>"></script>
    <% } %>

    <% if (theme.ribbon.enable) { %>
    <% var ribbonSrc = theme.ribbon.clickChange ? theme.libs.js.ribbon : theme.libs.js.ribbonRefresh; %>
    <script type="text/javascript" size="<%- theme.ribbon.size %>" alpha='<%- theme.ribbon.alpha %>'
        zIndex="<%- theme.ribbon.zIndex %>" src="<%- theme.jsDelivr.url %><%- ribbonSrc %>" async="async"></script>
    <% } %>

    <% if (theme.ribbon_dynamic.enable) { %>
    <!-- <script type="text/javascript" src="<%- theme.libs.js.ribbon_dynamic %>" async="async"></script> -->
    <script type="text/javascript" src="<%- theme.jsDelivr.url %><%- theme.libs.js.ribbon_dynamic %>" async="async"></script>
    <% } %>
    
    <% if (theme.instantpage.enable) { %>
    <!-- <script src="<%- theme.libs.js.instantpage %>" type="module"></script> -->
    <script src="<%- theme.jsDelivr.url %><%- theme.libs.js.instantpage %>" type="module"></script>
    <% } %>

    <script type="text/javascript"> 
        var OriginTitile=document.title,st; 
        document.addEventListener("visibilitychange",function(){ 
            document.hidden?(document.title="ヽ(●-`Д´-)ノ风里雨里我在等你~",clearTimeout(st)):(document.title="(๑•̀ㅂ•́) ✧ 欢迎回来~~！",st=setTimeout(function(){document.title=OriginTitile},3e3)) 
            })
    </script>

    <div id="he-plugin-simple"></div>
    <script>
    WIDGET = {
    CONFIG: {
        "modules": "01234",
        "background": 5,
        "tmpColor": "FFFFFF",
        "tmpSize": 16,
        "cityColor": "FFFFFF",
        "citySize": "16",
        "aqiSize": 16,
        "weatherIconSize": "20",
        "alertIconSize": 18,
        "padding": "10px 10px 10px 10px",
        "shadow": "0",
        "language": "auto",
        "fixed": "true",
        "vertical": "top",
        "horizontal": "right",
        "right": 10,
        "top": "60",
        "key": "2ccd90212a1d41dea248662765a0fb9c"
    }
    }
    </script>
    <script src="https://widget.heweather.net/simple/static/js/he-simple-common.js?v=1.1"></script>
</body>

</html>
